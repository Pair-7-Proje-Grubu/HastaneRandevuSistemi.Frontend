<div class="live-support-widget">
  <button class="toggle-button" (click)="toggleWidget()">
    <span class="icon">ğŸ’¬</span>
    {{ isOpen ? 'CanlÄ± DesteÄŸi Kapat' : 'CanlÄ± Destek' }}
  </button>

  <div class="widget-container" *ngIf="isOpen">
    <ng-container *ngIf="!isLoading; else loading">
      <ng-container *ngIf="isApiAvailable; else apiUnavailable">
        <iframe [src]="liveSupportUrl"></iframe>
      </ng-container>
      <ng-template #apiUnavailable>
        <div class="error-message">
          <p>CanlÄ± destek hizmetimize ÅŸu anda eriÅŸilemiyor, LÃ¼tfen daha sonra tekrar deneyiniz.</p>
        </div>
      </ng-template>
    </ng-container>
    <ng-template #loading>
      <div class="loading-message">
        <p>CanlÄ± destek yÃ¼kleniyor...</p>
      </div>
    </ng-template>
  </div>
</div>