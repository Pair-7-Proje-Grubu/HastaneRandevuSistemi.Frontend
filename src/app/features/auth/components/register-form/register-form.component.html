<div class="register-page">
  <div class="register-container">
    <div class="hrs-logo">
      <i class="fa-solid fa-dna"></i>
      <span>HRS.COM</span>
    </div>

    <div class="card">
      <div class="card-header">
        <h1 id="kayıt-formu" class="h3 mb-2 fw-bold">Kayıt Ol</h1>
      </div>

      <div class="card-body">
        <form [formGroup]="registerFormGroup" (ngSubmit)="onFormSubmit()" class="form-signup">
          <div class="form-floating mb-1">
            <input type="text" class="form-control form-control-sm" id="firstName" formControlName="firstName" placeholder=" ">
            <label for="firstName">Ad</label>
            <app-error-field [control]="registerFormGroup.get('firstName')!" [propertyName]="'Ad'"></app-error-field>
          </div>

          <div class="form-floating mb-1">
            <input type="text" class="form-control form-control-sm" id="lastName" formControlName="lastName" placeholder=" ">
            <label for="lastName">Soyad</label>
            <app-error-field [control]="registerFormGroup.get('lastName')!" [propertyName]="'Soyad'"></app-error-field>
          </div>

          <div class="form-floating mb-1 position-relative">
            <input type="date" class="form-control form-control-sm pe-5" id="birthDate" formControlName="birthDate" placeholder="GG.AA.YYYY">
            <label for="birthDate">Doğum Tarihi</label>
            <i class="bi bi-calendar3 position-absolute top-50 end-0 translate-middle-y me-3"></i>
            <app-error-field [control]="registerFormGroup.get('birthDate')!" [propertyName]="'Doğum Tarihi'"></app-error-field>
          </div>

          <div class="gender-group mb-1 text-center">
            <label class="gender-label">Cinsiyet:</label>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="genderM" value="M" formControlName="gender">
              <label class="form-check-label" for="genderM">Erkek</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="genderF" value="F" formControlName="gender">
              <label class="form-check-label" for="genderF">Kadın</label>
            </div>
            <app-error-field [control]="registerFormGroup.get('gender')!" [propertyName]="'Cinsiyet'"></app-error-field>
          </div>

          <div class="form-floating mb-1">
            <input type="email" class="form-control form-control-sm" id="email" formControlName="email" placeholder=" ">
            <label for="email">E-posta</label>
            <app-error-field [control]="registerFormGroup.get('email')!" [propertyName]="'E-posta'"></app-error-field>
          </div>

          <div class="form-floating mb-1">
            <input type="tel" class="form-control form-control-sm" id="phone" formControlName="phone" placeholder=" ">
            <label for="phone">Telefon Numarası</label>
            <app-error-field [control]="registerFormGroup.get('phone')!" [propertyName]="'Telefon Numarası'"></app-error-field>
          </div>

          <div class="form-floating mb-1">
            <input type="password" class="form-control form-control-sm" id="password" formControlName="password" placeholder=" ">
            <label for="password">Parola</label>
            <app-error-field [control]="registerFormGroup.get('password')!" [propertyName]="'Parola'"></app-error-field>
          </div>

          <div class="form-floating mb-1">
            <input type="password" class="form-control form-control-sm" id="confirmPassword" formControlName="confirmPassword" placeholder=" ">
            <label for="confirmPassword">Parola Tekrarı</label>
            <app-error-field [control]="registerFormGroup.get('confirmPassword')!" [propertyName]="'Parola Tekrarı'"></app-error-field>
          </div>

          <div class="form-check text-start mb-1">
            <input class="form-check-input" type="checkbox" id="userAgreement" formControlName="userAgreement">
            <label class="form-check-label" for="userAgreement">
              <span (click)="openAydinlatmaMetni($event)" class="clickable-link">Aydınlatma Metni</span>'ni okudum, anladım.
            </label>
            <app-error-field [control]="registerFormGroup.get('userAgreement')!" [propertyName]="'Aydınlatma Metni'"></app-error-field>
          </div>

          <button class="btn btn-primary w-100 py-1" type="submit" [disabled]="registerFormGroup.invalid">Kayıt Ol</button>
        </form>

        <p class="mt-1 mb-0 text-center">
          <a [routerLink]="['/auth/login']" class="text-decoration-none">Hesabınız var mı? Giriş yapın!</a>
        </p>
      </div>
    </div>
  </div>
</div>

<ng-template #successDialogTemplate>
  <h4 class="text-success">Başarılı!</h4>
  <p>Başarıyla kayıt olundu.</p>
</ng-template>

<ng-template #failedDialogTemplate>
  <h4 class="text-danger">Hata!</h4>
  <p>Kayıt esnasında bir hata oluştu. Lütfen daha sonra tekrar deneyiniz.</p>
</ng-template>

<ng-template #aydinlatmaMetniDialog>
  <h2 mat-dialog-title>Aydınlatma Metni</h2>
  <mat-dialog-content>
    <p>
      Bu, örnek bir aydınlatma metnidir. Gerçek uygulamada, bu metin kişisel verilerin işlenmesi, 
      kullanım amaçları, saklama süreleri ve kullanıcı hakları gibi konuları içermelidir.
    </p>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Kapat</button>
  </mat-dialog-actions>
</ng-template>